{"ast":null,"code":"import _defineProperty from \"/Users/leitan/Developer/whatsroaring/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/leitan/Developer/whatsroaring/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/leitan/Developer/whatsroaring/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/leitan/Developer/whatsroaring/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/leitan/Developer/whatsroaring/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/leitan/Developer/whatsroaring/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/leitan/Developer/whatsroaring/src/Pages/CreateEvent.js\";\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport AsyncSelect from 'react-select/lib/Async';\nimport { withStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport IconButton from '@material-ui/core/IconButton';\nimport ArrowBack from '@material-ui/icons/ArrowBack';\nimport { MuiThemeProvider } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport TextField from '@material-ui/core/TextField';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Select from '@material-ui/core/Select';\nimport Input from '@material-ui/core/Input';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport Button from '@material-ui/core/Button';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport theme from '../Assets/Theme';\nimport DateTimePicker from 'react-datetime-picker';\nimport './CreateEvent.css';\n\nvar axios = require('axios'); //const url = 'whatsroaring-api.herokuapp.com'\n\n\nvar url = 'http://127.0.0.1:8000';\nvar categories = ['music', 'sports', 'theater'];\nvar ITEM_HEIGHT = 48;\nvar ITEM_PADDING_TOP = 8;\nvar MenuProps = {\n  PaperProps: {\n    style: {\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n      width: 250\n    }\n  } // return array of category objects to populate dropdown\n\n};\n\nfunction getCategoryObjects() {\n  var url_cats = url + 'getCategories';\n  var cats_arr = [];\n  axios.get(url_cats).then(function (res) {\n    var cats = res.data.cats;\n\n    for (var i = 0; i < cats.length; i++) {\n      cats_arr.push({\n        id: i,\n        title: cats[i],\n        selected: false,\n        key: 'locations'\n      });\n    }\n  });\n  console.log('Categories: ' + cats_arr);\n  return cats_arr;\n}\n\nvar CreateEvent =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CreateEvent, _Component);\n\n  function CreateEvent(props) {\n    var _this;\n\n    _classCallCheck(this, CreateEvent);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CreateEvent).call(this, props));\n\n    _this.goBack = function () {\n      _this.props.history.goBack();\n    };\n\n    _this.handleChange = function (name) {\n      return function (event) {\n        console.log(name);\n\n        _this.setState(_defineProperty({}, name, event.target.value));\n      };\n    };\n\n    _this.handleDateChange = function (name) {\n      return function (date) {\n        console.log(date.toUTCString());\n\n        _this.setState(_defineProperty({}, name, date));\n      };\n    };\n\n    _this.submitEvent = function () {\n      var errors = [];\n\n      if (_this.state.name == '') {\n        errors.push('Enter a name for your event.');\n      }\n\n      if (_this.state.organization == '') {\n        errors.push('Enter an organization for your event.');\n      }\n\n      if (_this.state.location == '') {\n        errors.push('Enter a location for your event.');\n      }\n\n      if (_this.state.startTime == null) {\n        errors.push('Enter a start time for your event.');\n      }\n\n      if (_this.state.endTime == null) {\n        errors.push('Enter an end time for your event.');\n      }\n\n      _this.setState({\n        displayError: errors\n      });\n\n      if (errors.length == 0) {\n        console.log('Name: ' + _this.state.name);\n        console.log('Org: ' + _this.state.org);\n        console.log('Category: ' + _this.state.category);\n        console.log('Start time: ' + _this.state.startTime);\n        console.log('End time: ' + _this.state.endTime);\n        console.log('Website: ' + _this.state.website);\n        console.log('Description: ' + _this.state.description);\n        console.log('Is free: ' + _this.state.isFree);\n        axios.post('${url}/createEvent', {\n          params: {\n            name: _this.state.name,\n            org: _this.state.org,\n            cat: _this.state.category,\n            start_datetime: _this.state.startTime,\n            end_datetime: _this.state.endTime,\n            location: _this.state.location,\n            website: _this.state.website,\n            description: _this.state.description,\n            is_free: _this.state.isFree\n          }\n        }).then(function (response) {\n          if (response.data == 'Done') {\n            _this.goBack();\n          } else {\n            console.log('error');\n          }\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }\n    };\n\n    _this.state = {\n      name: '',\n      org: '',\n      category: [],\n      description: '',\n      location: '',\n      isFree: null,\n      website: '',\n      startTime: null,\n      endTime: null,\n      displayError: [],\n      categories: []\n    };\n    return _this;\n  }\n\n  _createClass(CreateEvent, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setState({\n        categories: getCategoryObjects()\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, \" Create Event \"), React.createElement(MuiThemeProvider, {\n        theme: theme,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"EventPaper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"ReturnButton\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, React.createElement(IconButton, {\n        color: \"primary\",\n        onClick: this.goBack,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, React.createElement(ArrowBack, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }))), React.createElement(Paper, {\n        className: \"EventPaperInner\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(FormControl, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        id: \"event-name\",\n        label: \"Event Name\",\n        value: this.state.name,\n        onChange: this.handleChange('name'),\n        margin: \"normal\",\n        variant: \"outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        id: \"event-description\",\n        label: \"Description\",\n        value: this.state.description,\n        onChange: this.handleChange('description'),\n        margin: \"normal\",\n        variant: \"outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        id: \"event-location\",\n        label: \"Event Location\",\n        value: this.state.location,\n        onChange: this.handleChange('location'),\n        margin: \"normal\",\n        variant: \"outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        id: \"event-website\",\n        label: \"Event Website\",\n        value: this.state.website,\n        onChange: this.handleChange('website'),\n        margin: \"normal\",\n        variant: \"outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }), React.createElement(Typography, {\n        variant: \"h5\",\n        component: \"h3\",\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }, \"Start date/time\"), React.createElement(DateTimePicker, {\n        value: this.state.startTime,\n        onChange: this.handleDateChange('startTime'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }), React.createElement(Typography, {\n        variant: \"h5\",\n        component: \"h3\",\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }, \"End date/time\"), React.createElement(DateTimePicker, {\n        value: this.state.endTime,\n        onChange: this.handleDateChange('endTime'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }))), React.createElement(Divider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }), React.createElement(Paper, {\n        className: \"EventPaperInner\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241\n        },\n        __self: this\n      }, React.createElement(FormControl, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }, React.createElement(InputLabel, {\n        htmlFor: \"outlined-isfree-simple\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      }, \"Free?\"), React.createElement(Select, {\n        value: this.state.isFree,\n        onChange: this.handleChange('isFree'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      }, React.createElement(MenuItem, {\n        value: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      }, \"Yes\"), React.createElement(MenuItem, {\n        value: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }, \"No\"))), React.createElement(FormControl, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      }, React.createElement(InputLabel, {\n        htmlFor: \"outlined-org-simple\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, \"Organization\"), React.createElement(Select, {\n        value: this.state.org,\n        onChange: this.handleChange('org'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259\n        },\n        __self: this\n      }, React.createElement(MenuItem, {\n        value: 'PUFSC',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }, \"PUFSC\"), React.createElement(MenuItem, {\n        value: 'Department of Music',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264\n        },\n        __self: this\n      }, \"Department of Music\"), React.createElement(MenuItem, {\n        value: 'Princeton Triangle Club',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265\n        },\n        __self: this\n      }, \"Princeton Triangle Club\"))), React.createElement(FormControl, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269\n        },\n        __self: this\n      }, React.createElement(InputLabel, {\n        htmlFor: \"select-multiple-checkbox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270\n        },\n        __self: this\n      }, \"Category\"), React.createElement(Select, {\n        multiple: true,\n        value: this.state.category,\n        onChange: this.handleChange('category'),\n        input: React.createElement(Input, {\n          id: \"select-multiple-checkbox\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 275\n          },\n          __self: this\n        }),\n        renderValue: function renderValue(selected) {\n          return selected.join(', ');\n        },\n        MenuProps: MenuProps,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271\n        },\n        __self: this\n      }, this.state.categories.map(function (category) {\n        return React.createElement(MenuItem, {\n          key: category,\n          value: category,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 280\n          },\n          __self: this\n        }, React.createElement(Checkbox, {\n          checked: _this2.state.category.indexOf(category) > -1,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 281\n          },\n          __self: this\n        }), React.createElement(ListItemText, {\n          primary: category,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 282\n          },\n          __self: this\n        }));\n      })))), React.createElement(Paper, {\n        className: \"EventPaperInner\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: this.submitEvent,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290\n        },\n        __self: this\n      }, \"Submit Event\")))));\n    }\n  }]);\n\n  return CreateEvent;\n}(Component);\n\nexport default withRouter(CreateEvent);","map":{"version":3,"sources":["/Users/leitan/Developer/whatsroaring/src/Pages/CreateEvent.js"],"names":["React","Component","withRouter","connect","AsyncSelect","withStyles","Grid","Paper","IconButton","ArrowBack","MuiThemeProvider","Typography","Divider","TextField","InputLabel","MenuItem","FormControl","FormLabel","FormControlLabel","Select","Input","InputAdornment","Button","Radio","RadioGroup","FormHelperText","Checkbox","ListItemText","theme","DateTimePicker","axios","require","url","categories","ITEM_HEIGHT","ITEM_PADDING_TOP","MenuProps","PaperProps","style","maxHeight","width","getCategoryObjects","url_cats","cats_arr","get","then","res","cats","data","i","length","push","id","title","selected","key","console","log","CreateEvent","props","goBack","history","handleChange","name","event","setState","target","value","handleDateChange","date","toUTCString","submitEvent","errors","state","organization","location","startTime","endTime","displayError","org","category","website","description","isFree","post","params","cat","start_datetime","end_datetime","is_free","response","catch","error","join","map","indexOf"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,WAAP,MAAwB,wBAAxB;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,SAAP,MAAsB,8BAAtB;AACA,SAASC,gBAAT,QAAiC,0BAAjC;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,OAAP,MAAoB,2BAApB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,gBAAP,MAA6B,oCAA7B;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,cAAP,MAA2B,kCAA3B;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,cAAP,MAA2B,kCAA3B;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,YAAP,MAAyB,gCAAzB;AAEA,OAAOC,KAAP,MAAkB,iBAAlB;AAEA,OAAOC,cAAP,MAA2B,uBAA3B;AACA,OAAO,mBAAP;;AAEA,IAAMC,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB,C,CACA;;;AACA,IAAMC,GAAG,GAAG,uBAAZ;AACA,IAAMC,UAAU,GAAG,CACjB,OADiB,EAEjB,QAFiB,EAGjB,SAHiB,CAAnB;AAMA,IAAMC,WAAW,GAAG,EAApB;AACA,IAAMC,gBAAgB,GAAG,CAAzB;AACA,IAAMC,SAAS,GAAG;AAChBC,EAAAA,UAAU,EAAE;AACVC,IAAAA,KAAK,EAAE;AACLC,MAAAA,SAAS,EAAEL,WAAW,GAAG,GAAd,GAAoBC,gBAD1B;AAELK,MAAAA,KAAK,EAAE;AAFF;AADG,GADI,CASlB;;AATkB,CAAlB;;AAUA,SAASC,kBAAT,GAA8B;AAC5B,MAAMC,QAAQ,GAAGV,GAAG,GAAG,eAAvB;AACA,MAAIW,QAAQ,GAAG,EAAf;AACAb,EAAAA,KAAK,CAACc,GAAN,CAAUF,QAAV,EAAoBG,IAApB,CAAyB,UAAAC,GAAG,EAAI;AAC9B,QAAIC,IAAI,GAAGD,GAAG,CAACE,IAAJ,CAASD,IAApB;;AACA,SAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,IAAI,CAACG,MAAzB,EAAiCD,CAAC,EAAlC,EAAsC;AACpCN,MAAAA,QAAQ,CAACQ,IAAT,CAAc;AACZC,QAAAA,EAAE,EAAEH,CADQ;AAEZI,QAAAA,KAAK,EAAEN,IAAI,CAACE,CAAD,CAFC;AAGZK,QAAAA,QAAQ,EAAE,KAHE;AAIZC,QAAAA,GAAG,EAAE;AAJO,OAAd;AAMD;AACF,GAVD;AAWAC,EAAAA,OAAO,CAACC,GAAR,CAAY,iBAAiBd,QAA7B;AACA,SAAOA,QAAP;AACD;;IAEKe,W;;;;;AACJ,uBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,qFAAMA,KAAN;;AADiB,UAqBnBC,MArBmB,GAqBV,YAAM;AACb,YAAKD,KAAL,CAAWE,OAAX,CAAmBD,MAAnB;AACD,KAvBkB;;AAAA,UAyBnBE,YAzBmB,GAyBJ,UAAAC,IAAI;AAAA,aAAI,UAAAC,KAAK,EAAI;AAC9BR,QAAAA,OAAO,CAACC,GAAR,CAAYM,IAAZ;;AACA,cAAKE,QAAL,qBACGF,IADH,EACUC,KAAK,CAACE,MAAN,CAAaC,KADvB;AAGD,OALkB;AAAA,KAzBA;;AAAA,UAgCnBC,gBAhCmB,GAgCA,UAAAL,IAAI;AAAA,aAAI,UAAAM,IAAI,EAAI;AACjCb,QAAAA,OAAO,CAACC,GAAR,CAAYY,IAAI,CAACC,WAAL,EAAZ;;AACA,cAAKL,QAAL,qBACGF,IADH,EACUM,IADV;AAGD,OALsB;AAAA,KAhCJ;;AAAA,UAuCnBE,WAvCmB,GAuCL,YAAM;AAClB,UAAIC,MAAM,GAAG,EAAb;;AACA,UAAI,MAAKC,KAAL,CAAWV,IAAX,IAAmB,EAAvB,EAA2B;AACzBS,QAAAA,MAAM,CAACrB,IAAP,CAAY,8BAAZ;AACD;;AACD,UAAI,MAAKsB,KAAL,CAAWC,YAAX,IAA2B,EAA/B,EAAmC;AACjCF,QAAAA,MAAM,CAACrB,IAAP,CAAY,uCAAZ;AACD;;AACD,UAAI,MAAKsB,KAAL,CAAWE,QAAX,IAAuB,EAA3B,EAA+B;AAC7BH,QAAAA,MAAM,CAACrB,IAAP,CAAY,kCAAZ;AACD;;AACD,UAAI,MAAKsB,KAAL,CAAWG,SAAX,IAAwB,IAA5B,EAAkC;AAChCJ,QAAAA,MAAM,CAACrB,IAAP,CAAY,oCAAZ;AACD;;AACD,UAAI,MAAKsB,KAAL,CAAWI,OAAX,IAAsB,IAA1B,EAAgC;AAC9BL,QAAAA,MAAM,CAACrB,IAAP,CAAY,mCAAZ;AACD;;AACD,YAAKc,QAAL,CAAc;AAAEa,QAAAA,YAAY,EAAEN;AAAhB,OAAd;;AAEA,UAAIA,MAAM,CAACtB,MAAP,IAAiB,CAArB,EAAwB;AACtBM,QAAAA,OAAO,CAACC,GAAR,CAAY,WAAW,MAAKgB,KAAL,CAAWV,IAAlC;AACAP,QAAAA,OAAO,CAACC,GAAR,CAAY,UAAU,MAAKgB,KAAL,CAAWM,GAAjC;AACAvB,QAAAA,OAAO,CAACC,GAAR,CAAY,eAAe,MAAKgB,KAAL,CAAWO,QAAtC;AACAxB,QAAAA,OAAO,CAACC,GAAR,CAAY,iBAAiB,MAAKgB,KAAL,CAAWG,SAAxC;AACApB,QAAAA,OAAO,CAACC,GAAR,CAAY,eAAe,MAAKgB,KAAL,CAAWI,OAAtC;AACArB,QAAAA,OAAO,CAACC,GAAR,CAAY,cAAc,MAAKgB,KAAL,CAAWQ,OAArC;AACAzB,QAAAA,OAAO,CAACC,GAAR,CAAY,kBAAkB,MAAKgB,KAAL,CAAWS,WAAzC;AACA1B,QAAAA,OAAO,CAACC,GAAR,CAAY,cAAc,MAAKgB,KAAL,CAAWU,MAArC;AAEArD,QAAAA,KAAK,CAACsD,IAAN,CAAW,oBAAX,EAAiC;AAC/BC,UAAAA,MAAM,EAAE;AACNtB,YAAAA,IAAI,EAAE,MAAKU,KAAL,CAAWV,IADX;AAENgB,YAAAA,GAAG,EAAE,MAAKN,KAAL,CAAWM,GAFV;AAGNO,YAAAA,GAAG,EAAE,MAAKb,KAAL,CAAWO,QAHV;AAINO,YAAAA,cAAc,EAAE,MAAKd,KAAL,CAAWG,SAJrB;AAKNY,YAAAA,YAAY,EAAE,MAAKf,KAAL,CAAWI,OALnB;AAMNF,YAAAA,QAAQ,EAAE,MAAKF,KAAL,CAAWE,QANf;AAONM,YAAAA,OAAO,EAAE,MAAKR,KAAL,CAAWQ,OAPd;AAQNC,YAAAA,WAAW,EAAE,MAAKT,KAAL,CAAWS,WARlB;AASNO,YAAAA,OAAO,EAAE,MAAKhB,KAAL,CAAWU;AATd;AADuB,SAAjC,EAYGtC,IAZH,CAYQ,UAAC6C,QAAD,EAAc;AACpB,cAAIA,QAAQ,CAAC1C,IAAT,IAAiB,MAArB,EAA6B;AAC3B,kBAAKY,MAAL;AACD,WAFD,MAEO;AACLJ,YAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACD;AACF,SAlBD,EAkBGkC,KAlBH,CAkBS,UAACC,KAAD,EAAW;AAClBpC,UAAAA,OAAO,CAACC,GAAR,CAAYmC,KAAZ;AACD,SApBD;AAqBD;AACF,KA1FkB;;AAEjB,UAAKnB,KAAL,GAAa;AACXV,MAAAA,IAAI,EAAE,EADK;AAEXgB,MAAAA,GAAG,EAAE,EAFM;AAGXC,MAAAA,QAAQ,EAAE,EAHC;AAIXE,MAAAA,WAAW,EAAE,EAJF;AAKXP,MAAAA,QAAQ,EAAE,EALC;AAMXQ,MAAAA,MAAM,EAAE,IANG;AAOXF,MAAAA,OAAO,EAAC,EAPG;AAQXL,MAAAA,SAAS,EAAE,IARA;AASXC,MAAAA,OAAO,EAAE,IATE;AAUXC,MAAAA,YAAY,EAAE,EAVH;AAWX7C,MAAAA,UAAU,EAAE;AAXD,KAAb;AAFiB;AAelB;;;;wCAEmB;AAClB,WAAKgC,QAAL,CAAc;AAAChC,QAAAA,UAAU,EAACQ,kBAAkB;AAA9B,OAAd;AACD;;;6BAyEQ;AAAA;;AACP,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,EAGE,oBAAC,gBAAD;AAAkB,QAAA,KAAK,EAAEb,KAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEE;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEE;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,UAAD;AAAY,QAAA,KAAK,EAAC,SAAlB;AAA4B,QAAA,OAAO,EAAE,KAAKgC,MAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,CAFF,EAQE,oBAAC,KAAD;AAAO,QAAA,SAAS,EAAC,iBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,SAAD;AACE,QAAA,EAAE,EAAC,YADL;AAEE,QAAA,KAAK,EAAC,YAFR;AAGE,QAAA,KAAK,EAAE,KAAKa,KAAL,CAAWV,IAHpB;AAIE,QAAA,QAAQ,EAAE,KAAKD,YAAL,CAAkB,MAAlB,CAJZ;AAKE,QAAA,MAAM,EAAC,QALT;AAME,QAAA,OAAO,EAAC,UANV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAUE,oBAAC,SAAD;AACE,QAAA,EAAE,EAAC,mBADL;AAEE,QAAA,KAAK,EAAC,aAFR;AAGE,QAAA,KAAK,EAAE,KAAKW,KAAL,CAAWS,WAHpB;AAIE,QAAA,QAAQ,EAAE,KAAKpB,YAAL,CAAkB,aAAlB,CAJZ;AAKE,QAAA,MAAM,EAAC,QALT;AAME,QAAA,OAAO,EAAC,UANV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAVF,EAmBE,oBAAC,SAAD;AACE,QAAA,EAAE,EAAC,gBADL;AAEE,QAAA,KAAK,EAAC,gBAFR;AAGE,QAAA,KAAK,EAAE,KAAKW,KAAL,CAAWE,QAHpB;AAIE,QAAA,QAAQ,EAAE,KAAKb,YAAL,CAAkB,UAAlB,CAJZ;AAKE,QAAA,MAAM,EAAC,QALT;AAME,QAAA,OAAO,EAAC,UANV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAnBF,EA4BE,oBAAC,SAAD;AACE,QAAA,EAAE,EAAC,eADL;AAEE,QAAA,KAAK,EAAC,eAFR;AAGE,QAAA,KAAK,EAAE,KAAKW,KAAL,CAAWQ,OAHpB;AAIE,QAAA,QAAQ,EAAE,KAAKnB,YAAL,CAAkB,SAAlB,CAJZ;AAKE,QAAA,MAAM,EAAC,QALT;AAME,QAAA,OAAO,EAAC,UANV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA5BF,EAqCE,oBAAC,UAAD;AAAY,QAAA,OAAO,EAAC,IAApB;AAAyB,QAAA,SAAS,EAAC,IAAnC;AAAwC,QAAA,KAAK,EAAC,SAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BArCF,EAwCE,oBAAC,cAAD;AACE,QAAA,KAAK,EAAE,KAAKW,KAAL,CAAWG,SADpB;AAEE,QAAA,QAAQ,EAAE,KAAKR,gBAAL,CAAsB,WAAtB,CAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAxCF,EA6CE,oBAAC,UAAD;AAAY,QAAA,OAAO,EAAC,IAApB;AAAyB,QAAA,SAAS,EAAC,IAAnC;AAAwC,QAAA,KAAK,EAAC,SAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBA7CF,EAgDE,oBAAC,cAAD;AACE,QAAA,KAAK,EAAE,KAAKK,KAAL,CAAWI,OADpB;AAEE,QAAA,QAAQ,EAAE,KAAKT,gBAAL,CAAsB,SAAtB,CAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAhDF,CADF,CARF,EAkEE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAlEF,EAoEE,oBAAC,KAAD;AAAO,QAAA,SAAS,EAAC,iBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,UAAD;AAAY,QAAA,OAAO,EAAC,wBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,EAIE,oBAAC,MAAD;AACE,QAAA,KAAK,EAAE,KAAKK,KAAL,CAAWU,MADpB;AAEE,QAAA,QAAQ,EAAE,KAAKrB,YAAL,CAAkB,QAAlB,CAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAIE,oBAAC,QAAD;AAAU,QAAA,KAAK,EAAE,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAJF,EAKE,oBAAC,QAAD;AAAU,QAAA,KAAK,EAAE,KAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cALF,CAJF,CADF,EAcE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,UAAD;AAAY,QAAA,OAAO,EAAC,qBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,EAIE,oBAAC,MAAD;AACE,QAAA,KAAK,EAAE,KAAKW,KAAL,CAAWM,GADpB;AAEE,QAAA,QAAQ,EAAE,KAAKjB,YAAL,CAAkB,KAAlB,CAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAIE,oBAAC,QAAD;AAAU,QAAA,KAAK,EAAE,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAJF,EAKE,oBAAC,QAAD;AAAU,QAAA,KAAK,EAAE,qBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BALF,EAME,oBAAC,QAAD;AAAU,QAAA,KAAK,EAAE,yBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCANF,CAJF,CAdF,EA4BE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,UAAD;AAAY,QAAA,OAAO,EAAC,0BAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,EAEE,oBAAC,MAAD;AACE,QAAA,QAAQ,MADV;AAEE,QAAA,KAAK,EAAE,KAAKW,KAAL,CAAWO,QAFpB;AAGE,QAAA,QAAQ,EAAE,KAAKlB,YAAL,CAAkB,UAAlB,CAHZ;AAIE,QAAA,KAAK,EAAE,oBAAC,KAAD;AAAO,UAAA,EAAE,EAAC,0BAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAJT;AAKE,QAAA,WAAW,EAAE,qBAAAR,QAAQ;AAAA,iBAAIA,QAAQ,CAACuC,IAAT,CAAc,IAAd,CAAJ;AAAA,SALvB;AAME,QAAA,SAAS,EAAEzD,SANb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAQG,KAAKqC,KAAL,CAAWxC,UAAX,CAAsB6D,GAAtB,CAA0B,UAAAd,QAAQ;AAAA,eACjC,oBAAC,QAAD;AAAU,UAAA,GAAG,EAAEA,QAAf;AAAyB,UAAA,KAAK,EAAEA,QAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,QAAD;AAAU,UAAA,OAAO,EAAE,MAAI,CAACP,KAAL,CAAWO,QAAX,CAAoBe,OAApB,CAA4Bf,QAA5B,IAAwC,CAAC,CAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,EAEE,oBAAC,YAAD;AAAc,UAAA,OAAO,EAAEA,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFF,CADiC;AAAA,OAAlC,CARH,CAFF,CA5BF,CApEF,EAoHE,oBAAC,KAAD;AAAO,QAAA,SAAS,EAAC,iBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AAAQ,QAAA,OAAO,EAAC,WAAhB;AAA4B,QAAA,KAAK,EAAC,SAAlC;AAA4C,QAAA,OAAO,EAAE,KAAKT,WAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,CApHF,CAFF,CAHF,CADF;AAoID;;;;EAlOuBtE,S;;AAsO1B,eAAeC,UAAU,CAACwD,WAAD,CAAzB","sourcesContent":["import React, { Component } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport AsyncSelect from 'react-select/lib/Async'\nimport { withStyles } from '@material-ui/core/styles'\nimport Grid from '@material-ui/core/Grid'\nimport Paper from '@material-ui/core/Paper'\nimport IconButton from '@material-ui/core/IconButton'\nimport ArrowBack from '@material-ui/icons/ArrowBack'\nimport { MuiThemeProvider } from '@material-ui/core/styles'\nimport Typography from '@material-ui/core/Typography'\nimport Divider from '@material-ui/core/Divider'\nimport TextField from '@material-ui/core/TextField'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport FormControl from '@material-ui/core/FormControl'\nimport FormLabel from '@material-ui/core/FormLabel'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport Select from '@material-ui/core/Select'\nimport Input from '@material-ui/core/Input'\nimport InputAdornment from '@material-ui/core/InputAdornment'\nimport Button from '@material-ui/core/Button'\nimport Radio from '@material-ui/core/Radio'\nimport RadioGroup from '@material-ui/core/RadioGroup'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport ListItemText from '@material-ui/core/ListItemText'\n\nimport theme from '../Assets/Theme'\n\nimport DateTimePicker from 'react-datetime-picker'\nimport './CreateEvent.css'\n\nconst axios = require('axios')\n//const url = 'whatsroaring-api.herokuapp.com'\nconst url = 'http://127.0.0.1:8000'\nconst categories = [\n  'music',\n  'sports',\n  'theater',\n]\n\nconst ITEM_HEIGHT = 48;\nconst ITEM_PADDING_TOP = 8;\nconst MenuProps = {\n  PaperProps: {\n    style: {\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n      width: 250,\n    },\n  },\n}\n\n// return array of category objects to populate dropdown\nfunction getCategoryObjects() {\n  const url_cats = url + 'getCategories'\n  var cats_arr = []\n  axios.get(url_cats).then(res => {\n    var cats = res.data.cats\n    for (var i = 0; i < cats.length; i++) {\n      cats_arr.push({\n        id: i,\n        title: cats[i],\n        selected: false,\n        key: 'locations'\n      })\n    }\n  })\n  console.log('Categories: ' + cats_arr)\n  return cats_arr\n}\n\nclass CreateEvent extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      name: '',\n      org: '',\n      category: [],\n      description: '',\n      location: '',\n      isFree: null,\n      website:'',\n      startTime: null,\n      endTime: null,\n      displayError: [],\n      categories: []\n    }\n  }\n\n  componentDidMount() {\n    this.setState({categories:getCategoryObjects()})\n  }\n\n  goBack = () => {\n    this.props.history.goBack()\n  }\n\n  handleChange = name => event => {\n    console.log(name)\n    this.setState({\n      [name]: event.target.value,\n    })\n  }\n\n  handleDateChange = name => date => {\n    console.log(date.toUTCString())\n    this.setState({\n      [name]: date\n    })\n  }\n\n  submitEvent = () => {\n    var errors = []\n    if (this.state.name == '') {\n      errors.push('Enter a name for your event.')\n    }\n    if (this.state.organization == '') {\n      errors.push('Enter an organization for your event.')\n    }\n    if (this.state.location == '') {\n      errors.push('Enter a location for your event.')\n    }\n    if (this.state.startTime == null) {\n      errors.push('Enter a start time for your event.')\n    }\n    if (this.state.endTime == null) {\n      errors.push('Enter an end time for your event.')\n    }\n    this.setState({ displayError: errors })\n\n    if (errors.length == 0) {\n      console.log('Name: ' + this.state.name)\n      console.log('Org: ' + this.state.org)\n      console.log('Category: ' + this.state.category)\n      console.log('Start time: ' + this.state.startTime)\n      console.log('End time: ' + this.state.endTime)\n      console.log('Website: ' + this.state.website)\n      console.log('Description: ' + this.state.description)\n      console.log('Is free: ' + this.state.isFree)\n\n      axios.post('${url}/createEvent', {\n        params: {\n          name: this.state.name,\n          org: this.state.org,\n          cat: this.state.category,\n          start_datetime: this.state.startTime,\n          end_datetime: this.state.endTime,\n          location: this.state.location,\n          website: this.state.website,\n          description: this.state.description,\n          is_free: this.state.isFree\n        }\n      }).then((response) => {\n        if (response.data == 'Done') {\n          this.goBack()\n        } else {\n          console.log('error')\n        }\n      }).catch((error) => {\n        console.log(error)\n      })\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <h1> Create Event </h1>\n\n        <MuiThemeProvider theme={theme}>\n\n          <div className='EventPaper'>\n\n            <div className='ReturnButton'>\n              <IconButton color='primary' onClick={this.goBack}>\n                <ArrowBack />\n              </IconButton>\n            </div>\n\n            <Paper className='EventPaperInner'>\n              <FormControl>\n                <TextField\n                  id='event-name'\n                  label='Event Name'\n                  value={this.state.name}\n                  onChange={this.handleChange('name')}\n                  margin='normal'\n                  variant='outlined'\n                />\n\n                <TextField\n                  id='event-description'\n                  label='Description'\n                  value={this.state.description}\n                  onChange={this.handleChange('description')}\n                  margin='normal'\n                  variant='outlined'\n                />\n\n                <TextField\n                  id='event-location'\n                  label='Event Location'\n                  value={this.state.location}\n                  onChange={this.handleChange('location')}\n                  margin='normal'\n                  variant='outlined'\n                />\n\n                <TextField\n                  id='event-website'\n                  label='Event Website'\n                  value={this.state.website}\n                  onChange={this.handleChange('website')}\n                  margin='normal'\n                  variant='outlined'\n                />\n\n                <Typography variant=\"h5\" component=\"h3\" color=\"primary\">\n                  Start date/time\n                </Typography>\n                <DateTimePicker \n                  value={this.state.startTime}\n                  onChange={this.handleDateChange('startTime')}\n                />\n\n                <Typography variant=\"h5\" component=\"h3\" color=\"primary\">\n                  End date/time\n                </Typography>\n                <DateTimePicker \n                  value={this.state.endTime}\n                  onChange={this.handleDateChange('endTime')}\n                />\n\n              </FormControl>\n\n            </Paper>\n\n            <Divider />\n\n            <Paper className='EventPaperInner'>\n              <FormControl>\n                <InputLabel htmlFor=\"outlined-isfree-simple\">\n                  Free?\n                </InputLabel>\n                <Select\n                  value={this.state.isFree}\n                  onChange={this.handleChange('isFree')}\n                >\n                  <MenuItem value={true}>Yes</MenuItem>\n                  <MenuItem value={false}>No</MenuItem>\n                </Select>\n              </FormControl>\n\n              <FormControl>\n                <InputLabel htmlFor=\"outlined-org-simple\">\n                  Organization\n                </InputLabel>\n                <Select\n                  value={this.state.org}\n                  onChange={this.handleChange('org')}\n                >\n                  <MenuItem value={'PUFSC'}>PUFSC</MenuItem>\n                  <MenuItem value={'Department of Music'}>Department of Music</MenuItem>\n                  <MenuItem value={'Princeton Triangle Club'}>Princeton Triangle Club</MenuItem>\n                </Select>\n              </FormControl>\n\n              <FormControl>\n                <InputLabel htmlFor=\"select-multiple-checkbox\">Category</InputLabel>\n                <Select\n                  multiple\n                  value={this.state.category}\n                  onChange={this.handleChange('category')}\n                  input={<Input id=\"select-multiple-checkbox\" />}\n                  renderValue={selected => selected.join(', ')}\n                  MenuProps={MenuProps}\n                >\n                  {this.state.categories.map(category => (\n                    <MenuItem key={category} value={category}>\n                      <Checkbox checked={this.state.category.indexOf(category) > -1} />\n                      <ListItemText primary={category} />\n                    </MenuItem>\n                  ))}\n                </Select>\n              </FormControl>\n            </Paper>\n\n            <Paper className='EventPaperInner'>\n              <Button variant=\"contained\" color=\"primary\" onClick={this.submitEvent}>\n                Submit Event\n              </Button>\n            </Paper>\n\n          </div>\n        </MuiThemeProvider>\n      </div>\n    )\n  }\n}\n\n\nexport default withRouter(CreateEvent)\n"]},"metadata":{},"sourceType":"module"}