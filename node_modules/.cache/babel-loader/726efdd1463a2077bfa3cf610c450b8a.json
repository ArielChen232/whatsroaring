{"ast":null,"code":"import _defineProperty from \"/Users/leitan/Developer/whatsroaring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/leitan/Developer/whatsroaring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/leitan/Developer/whatsroaring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/leitan/Developer/whatsroaring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/leitan/Developer/whatsroaring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/leitan/Developer/whatsroaring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/leitan/Developer/whatsroaring/src/Pages/Register.js\";\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom'; // Material-UI\n\nimport { withStyles } from '@material-ui/core/styles';\nimport { MuiThemeProvider } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material-ui/core/TextField';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport Input from '@material-ui/core/Input';\nimport Button from '@material-ui/core/Button';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle'; // Local\n\nimport Theme from '../Assets/Theme';\nimport Header from './Components/Header';\nimport HomeButton from './Components/HomeButton';\nimport './Form.css';\n\nvar axios = require('axios');\n\nvar url = 'http://whatsroaring-api.herokuapp.com/'; //const url ='http://127.0.0.1:8000/'\n\nvar ITEM_HEIGHT = 48;\nvar ITEM_PADDING_TOP = 8;\nvar MenuProps = {\n  PaperProps: {\n    style: {\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n      width: 250\n    }\n  }\n};\n\nvar styles = function styles(theme) {\n  return {\n    container: {\n      display: 'flex',\n      flexWrap: 'wrap'\n    },\n    textField: {\n      marginLeft: theme.spacing.unit,\n      marginRight: theme.spacing.unit\n    },\n    dateTimePicker: {\n      marginLeft: theme.spacing.unit,\n      marginRight: theme.spacing.unit\n    },\n    select: {\n      marginLeft: theme.spacing.unit,\n      marginRight: theme.spacing.unit\n    },\n    dense: {\n      marginTop: 19\n    }\n  };\n}; // https://stackoverflow.com/questions/3809401/what-is-a-good-regular-expression-to-match-a-url\n\n\nfunction isValidURL(str) {\n  var expression = /https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%_\\+.~#?&//=]{2,256}\\.[a-z]{2,4}\\b(\\/[-a-zA-Z0-9@:%_\\+.~#?&//=]*)?/gi;\n  var regex = new RegExp(expression);\n  return regex.test(str);\n} // Check if start date/time and end date/time are valid\n\n\nfunction checkDates(startDate, endDate) {\n  var today = new Date();\n  var errMsgs = [];\n\n  if (startDate < today) {\n    errMsgs.push('Start date/time should be after the current time.');\n  }\n\n  if (endDate <= startDate) {\n    errMsgs.push('End date/time should be after the start date/time.');\n  }\n\n  return errMsgs;\n}\n\nvar CreateEvent =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CreateEvent, _Component);\n\n  function CreateEvent(props) {\n    var _this;\n\n    _classCallCheck(this, CreateEvent);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CreateEvent).call(this, props));\n\n    _this.goBack = function () {\n      _this.props.history.goBack();\n    };\n\n    _this.handleChange = function (name) {\n      return function (event) {\n        _this.setState(_defineProperty({}, name, event.target.value));\n      };\n    };\n\n    _this.handleCloseSuccessDialog = function () {\n      _this.setState({\n        openSuccessDialog: false\n      });\n\n      _this.props.history.push('/');\n    };\n\n    _this.submitEvent = function () {\n      var url_event = url + 'createEvent';\n      console.log('Name: ' + _this.state.name);\n      console.log('Org: ' + _this.state.org);\n      console.log('Category: ' + _this.state.category);\n      console.log('Start time: ' + _this.state.startTime);\n      console.log('End time: ' + _this.state.endTime);\n      console.log('Website: ' + _this.state.website);\n      console.log('Description: ' + _this.state.description);\n      console.log('Is free: ' + _this.state.isFree); // Check fields\n\n      var errors = [];\n\n      if (!_this.state.name.replace(/\\s/g, '').length) {\n        errors.push('event name');\n      }\n\n      if (!_this.state.description.replace(/\\s/g, '').length) {\n        errors.push('description');\n      }\n\n      if (!_this.state.location.replace(/\\s/g, '').length) {\n        errors.push('location');\n      }\n\n      if (!_this.state.startTime.replace(/\\s/g, '').length) {\n        errors.push('start time');\n      }\n\n      if (!_this.state.endTime.replace(/\\s/g, '').length) {\n        errors.push('end time');\n      }\n\n      if (!_this.state.org.replace(/\\s/g, '').length) {\n        errors.push('organization');\n      }\n\n      if (_this.state.category.length == 0) {\n        errors.push('category');\n      }\n\n      if (_this.state.isFree === '') {\n        errors.push('is free');\n      }\n\n      var timeErrs = checkDates(new Date(_this.state.startTime), new Date(_this.state.endTime));\n\n      if (errors.length > 0) {\n        // Missing fields\n        _this.setState({\n          missingFields: errors,\n          openErrorDialog: true\n        });\n      } else if (_this.state.website !== '' && !isValidURL(_this.state.website)) {\n        // Invalid website URL\n        _this.setState({\n          openInvalidWebsiteDialog: true\n        });\n      } else if (timeErrs.length > 0) {\n        // Invalid times\n        _this.setState({\n          timeErrors: timeErrs,\n          openInvalidTimesDialog: true\n        });\n      } else {\n        console.log('Start time: ' + _this.state.startTime.toLocaleString());\n        axios.post(url_event, {\n          params: {\n            name: _this.state.name,\n            org: _this.state.org,\n            cat: _this.state.category,\n            start_datetime: _this.state.startTime,\n            end_datetime: _this.state.endTime,\n            location: _this.state.location,\n            website: _this.state.website,\n            description: _this.state.description,\n            is_free: _this.state.isFree\n          }\n        }).then(function (response) {\n          if (response.data === 'Created event') {\n            _this.setState({\n              openSuccessDialog: true\n            });\n          } else {\n            _this.setState({\n              openServerErrorDialog: true\n            });\n          }\n        }).catch(function (error) {\n          _this.setState({\n            openServerErrorDialog: true\n          });\n        });\n      }\n    };\n\n    _this.state = {\n      firstName: '',\n      lastName: '',\n      email: '',\n      password: '',\n      confirmPassword: '',\n      openSuccessDialog: false\n    };\n    return _this;\n  }\n\n  _createClass(CreateEvent, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {}\n  }, {\n    key: \"renderDialogs\",\n    value: function renderDialogs() {\n      return React.createElement(\"div\", {\n        className: \"dialogs\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, React.createElement(Dialog, {\n        open: this.state.openSuccessDialog,\n        onClose: this.handleCloseSuccessDialog,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }, React.createElement(DialogTitle, {\n        id: \"alert-dialog-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }, 'Success'), React.createElement(DialogContent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, React.createElement(DialogContentText, {\n        id: \"alert-dialog-description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }, \"You have successfully registered your account.\")), React.createElement(DialogActions, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this.handleCloseSuccessDialog,\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }, \"OK\"))));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var classes = this.props.classes;\n      return React.createElement(\"div\", {\n        className: \"page\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241\n        },\n        __self: this\n      }, React.createElement(Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }), React.createElement(HomeButton, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      }), React.createElement(MuiThemeProvider, {\n        theme: Theme,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }, this.renderDialogs(), React.createElement(\"div\", {\n        className: \"main\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      }, React.createElement(Paper, {\n        className: \"paper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"h3\",\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      }, \"Register\")), React.createElement(\"div\", {\n        className: \"form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      }, React.createElement(FormControl, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        required: true,\n        label: \"First Name\",\n        className: classes.textField,\n        value: this.state.firstName,\n        onChange: this.handleChange('firstName'),\n        margin: \"normal\",\n        variant: \"outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        required: true,\n        label: \"Last Name\",\n        className: classes.textField,\n        value: this.state.lastName,\n        onChange: this.handleChange('lastName'),\n        margin: \"normal\",\n        variant: \"outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        required: true,\n        label: \"Email Address\",\n        className: classes.textField,\n        value: this.state.email,\n        onChange: this.handleChange('email'),\n        margin: \"normal\",\n        variant: \"outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        required: true,\n        label: \"Password\",\n        className: classes.textField,\n        value: this.state.password,\n        onChange: this.handleChange('password'),\n        margin: \"normal\",\n        variant: \"outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        required: true,\n        label: \"Confirm Password\",\n        className: classes.textField,\n        value: this.state.confirmPassword,\n        onChange: this.handleChange('confirmPassword'),\n        margin: \"normal\",\n        variant: \"outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 307\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: this.submitEvent,\n        size: \"large\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 308\n        },\n        __self: this\n      }, \"Register\"))))));\n    }\n  }]);\n\n  return CreateEvent;\n}(Component);\n\nexport default withStyles(styles)(withRouter(CreateEvent));","map":{"version":3,"sources":["/Users/leitan/Developer/whatsroaring/src/Pages/Register.js"],"names":["React","Component","withRouter","withStyles","MuiThemeProvider","Grid","Paper","Typography","TextField","InputLabel","MenuItem","FormControl","Select","Input","Button","Checkbox","ListItemText","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","Theme","Header","HomeButton","axios","require","url","ITEM_HEIGHT","ITEM_PADDING_TOP","MenuProps","PaperProps","style","maxHeight","width","styles","theme","container","display","flexWrap","textField","marginLeft","spacing","unit","marginRight","dateTimePicker","select","dense","marginTop","isValidURL","str","expression","regex","RegExp","test","checkDates","startDate","endDate","today","Date","errMsgs","push","CreateEvent","props","goBack","history","handleChange","name","event","setState","target","value","handleCloseSuccessDialog","openSuccessDialog","submitEvent","url_event","console","log","state","org","category","startTime","endTime","website","description","isFree","errors","replace","length","location","timeErrs","missingFields","openErrorDialog","openInvalidWebsiteDialog","timeErrors","openInvalidTimesDialog","toLocaleString","post","params","cat","start_datetime","end_datetime","is_free","then","response","data","openServerErrorDialog","catch","error","firstName","lastName","email","password","confirmPassword","classes","renderDialogs"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,UAAT,QAA2B,kBAA3B,C,CAEA;;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,SAASC,gBAAT,QAAiC,0BAAjC;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,YAAP,MAAyB,gCAAzB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AACA,OAAOC,iBAAP,MAA8B,qCAA9B;AACA,OAAOC,WAAP,MAAwB,+BAAxB,C,CAEA;;AACA,OAAOC,KAAP,MAAkB,iBAAlB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,OAAO,YAAP;;AAEA,IAAMC,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AACA,IAAMC,GAAG,GAAG,wCAAZ,C,CACA;;AAEA,IAAMC,WAAW,GAAG,EAApB;AACA,IAAMC,gBAAgB,GAAG,CAAzB;AACA,IAAMC,SAAS,GAAG;AAChBC,EAAAA,UAAU,EAAE;AACVC,IAAAA,KAAK,EAAE;AACLC,MAAAA,SAAS,EAAEL,WAAW,GAAG,GAAd,GAAoBC,gBAD1B;AAELK,MAAAA,KAAK,EAAE;AAFF;AADG;AADI,CAAlB;;AASA,IAAMC,MAAM,GAAG,SAATA,MAAS,CAAAC,KAAK;AAAA,SAAK;AACvBC,IAAAA,SAAS,EAAE;AACTC,MAAAA,OAAO,EAAE,MADA;AAETC,MAAAA,QAAQ,EAAE;AAFD,KADY;AAKvBC,IAAAA,SAAS,EAAE;AACTC,MAAAA,UAAU,EAAEL,KAAK,CAACM,OAAN,CAAcC,IADjB;AAETC,MAAAA,WAAW,EAAER,KAAK,CAACM,OAAN,CAAcC;AAFlB,KALY;AASvBE,IAAAA,cAAc,EAAE;AACdJ,MAAAA,UAAU,EAAEL,KAAK,CAACM,OAAN,CAAcC,IADZ;AAEdC,MAAAA,WAAW,EAAER,KAAK,CAACM,OAAN,CAAcC;AAFb,KATO;AAavBG,IAAAA,MAAM,EAAE;AACNL,MAAAA,UAAU,EAAEL,KAAK,CAACM,OAAN,CAAcC,IADpB;AAENC,MAAAA,WAAW,EAAER,KAAK,CAACM,OAAN,CAAcC;AAFrB,KAbe;AAiBvBI,IAAAA,KAAK,EAAE;AACLC,MAAAA,SAAS,EAAE;AADN;AAjBgB,GAAL;AAAA,CAApB,C,CAsBA;;;AACA,SAASC,UAAT,CAAoBC,GAApB,EAAyB;AACvB,MAAIC,UAAU,GAAG,sGAAjB;AACA,MAAIC,KAAK,GAAG,IAAIC,MAAJ,CAAWF,UAAX,CAAZ;AACA,SAAOC,KAAK,CAACE,IAAN,CAAWJ,GAAX,CAAP;AACD,C,CAED;;;AACA,SAASK,UAAT,CAAoBC,SAApB,EAA+BC,OAA/B,EAAwC;AACtC,MAAIC,KAAK,GAAG,IAAIC,IAAJ,EAAZ;AACA,MAAIC,OAAO,GAAG,EAAd;;AACA,MAAIJ,SAAS,GAAGE,KAAhB,EAAuB;AACrBE,IAAAA,OAAO,CAACC,IAAR,CAAa,mDAAb;AACD;;AACD,MAAIJ,OAAO,IAAID,SAAf,EAA0B;AACxBI,IAAAA,OAAO,CAACC,IAAR,CAAa,oDAAb;AACD;;AACD,SAAOD,OAAP;AACD;;IAEKE,W;;;;;AACJ,uBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,qFAAMA,KAAN;;AADiB,UAgBnBC,MAhBmB,GAgBV,YAAM;AACb,YAAKD,KAAL,CAAWE,OAAX,CAAmBD,MAAnB;AACD,KAlBkB;;AAAA,UAoBnBE,YApBmB,GAoBJ,UAAAC,IAAI;AAAA,aAAI,UAAAC,KAAK,EAAI;AAC9B,cAAKC,QAAL,qBACGF,IADH,EACUC,KAAK,CAACE,MAAN,CAAaC,KADvB;AAGD,OAJkB;AAAA,KApBA;;AAAA,UA0BnBC,wBA1BmB,GA0BQ,YAAM;AAC/B,YAAKH,QAAL,CAAc;AAAEI,QAAAA,iBAAiB,EAAE;AAArB,OAAd;;AACA,YAAKV,KAAL,CAAWE,OAAX,CAAmBJ,IAAnB,CAAwB,GAAxB;AACD,KA7BkB;;AAAA,UA+BnBa,WA/BmB,GA+BL,YAAM;AAClB,UAAIC,SAAS,GAAGhD,GAAG,GAAG,aAAtB;AACAiD,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAW,MAAKC,KAAL,CAAWX,IAAlC;AACAS,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAU,MAAKC,KAAL,CAAWC,GAAjC;AACAH,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAe,MAAKC,KAAL,CAAWE,QAAtC;AACAJ,MAAAA,OAAO,CAACC,GAAR,CAAY,iBAAiB,MAAKC,KAAL,CAAWG,SAAxC;AACAL,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAe,MAAKC,KAAL,CAAWI,OAAtC;AACAN,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAc,MAAKC,KAAL,CAAWK,OAArC;AACAP,MAAAA,OAAO,CAACC,GAAR,CAAY,kBAAkB,MAAKC,KAAL,CAAWM,WAAzC;AACAR,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAc,MAAKC,KAAL,CAAWO,MAArC,EATkB,CAWlB;;AACA,UAAIC,MAAM,GAAG,EAAb;;AACA,UAAI,CAAC,MAAKR,KAAL,CAAWX,IAAX,CAAgBoB,OAAhB,CAAwB,KAAxB,EAA+B,EAA/B,EAAmCC,MAAxC,EAAgD;AAC9CF,QAAAA,MAAM,CAACzB,IAAP,CAAY,YAAZ;AACD;;AACD,UAAI,CAAC,MAAKiB,KAAL,CAAWM,WAAX,CAAuBG,OAAvB,CAA+B,KAA/B,EAAsC,EAAtC,EAA0CC,MAA/C,EAAuD;AACrDF,QAAAA,MAAM,CAACzB,IAAP,CAAY,aAAZ;AACD;;AACD,UAAI,CAAC,MAAKiB,KAAL,CAAWW,QAAX,CAAoBF,OAApB,CAA4B,KAA5B,EAAmC,EAAnC,EAAuCC,MAA5C,EAAoD;AAClDF,QAAAA,MAAM,CAACzB,IAAP,CAAY,UAAZ;AACD;;AACD,UAAI,CAAC,MAAKiB,KAAL,CAAWG,SAAX,CAAqBM,OAArB,CAA6B,KAA7B,EAAoC,EAApC,EAAwCC,MAA7C,EAAqD;AACnDF,QAAAA,MAAM,CAACzB,IAAP,CAAY,YAAZ;AACD;;AACD,UAAI,CAAC,MAAKiB,KAAL,CAAWI,OAAX,CAAmBK,OAAnB,CAA2B,KAA3B,EAAkC,EAAlC,EAAsCC,MAA3C,EAAmD;AACjDF,QAAAA,MAAM,CAACzB,IAAP,CAAY,UAAZ;AACD;;AACD,UAAI,CAAC,MAAKiB,KAAL,CAAWC,GAAX,CAAeQ,OAAf,CAAuB,KAAvB,EAA8B,EAA9B,EAAkCC,MAAvC,EAA+C;AAC7CF,QAAAA,MAAM,CAACzB,IAAP,CAAY,cAAZ;AACD;;AACD,UAAI,MAAKiB,KAAL,CAAWE,QAAX,CAAoBQ,MAApB,IAA8B,CAAlC,EAAqC;AACnCF,QAAAA,MAAM,CAACzB,IAAP,CAAY,UAAZ;AACD;;AACD,UAAI,MAAKiB,KAAL,CAAWO,MAAX,KAAsB,EAA1B,EAA8B;AAC5BC,QAAAA,MAAM,CAACzB,IAAP,CAAY,SAAZ;AACD;;AAED,UAAI6B,QAAQ,GAAGnC,UAAU,CACvB,IAAII,IAAJ,CAAS,MAAKmB,KAAL,CAAWG,SAApB,CADuB,EAEvB,IAAItB,IAAJ,CAAS,MAAKmB,KAAL,CAAWI,OAApB,CAFuB,CAAzB;;AAIA,UAAII,MAAM,CAACE,MAAP,GAAgB,CAApB,EAAuB;AACrB;AACA,cAAKnB,QAAL,CAAc;AACZsB,UAAAA,aAAa,EAAEL,MADH;AAEZM,UAAAA,eAAe,EAAE;AAFL,SAAd;AAID,OAND,MAMO,IAAI,MAAKd,KAAL,CAAWK,OAAX,KAAuB,EAAvB,IACG,CAAClC,UAAU,CAAC,MAAK6B,KAAL,CAAWK,OAAZ,CADlB,EACwC;AAC7C;AACA,cAAKd,QAAL,CAAc;AACZwB,UAAAA,wBAAwB,EAAE;AADd,SAAd;AAGD,OANM,MAMA,IAAIH,QAAQ,CAACF,MAAT,GAAkB,CAAtB,EAAyB;AAC9B;AACA,cAAKnB,QAAL,CAAc;AACZyB,UAAAA,UAAU,EAAEJ,QADA;AAEZK,UAAAA,sBAAsB,EAAE;AAFZ,SAAd;AAID,OANM,MAMA;AACLnB,QAAAA,OAAO,CAACC,GAAR,CAAY,iBAAiB,MAAKC,KAAL,CAAWG,SAAX,CAAqBe,cAArB,EAA7B;AACAvE,QAAAA,KAAK,CAACwE,IAAN,CAAWtB,SAAX,EAAsB;AACpBuB,UAAAA,MAAM,EAAE;AACN/B,YAAAA,IAAI,EAAE,MAAKW,KAAL,CAAWX,IADX;AAENY,YAAAA,GAAG,EAAE,MAAKD,KAAL,CAAWC,GAFV;AAGNoB,YAAAA,GAAG,EAAE,MAAKrB,KAAL,CAAWE,QAHV;AAINoB,YAAAA,cAAc,EAAE,MAAKtB,KAAL,CAAWG,SAJrB;AAKNoB,YAAAA,YAAY,EAAE,MAAKvB,KAAL,CAAWI,OALnB;AAMNO,YAAAA,QAAQ,EAAE,MAAKX,KAAL,CAAWW,QANf;AAONN,YAAAA,OAAO,EAAE,MAAKL,KAAL,CAAWK,OAPd;AAQNC,YAAAA,WAAW,EAAE,MAAKN,KAAL,CAAWM,WARlB;AASNkB,YAAAA,OAAO,EAAE,MAAKxB,KAAL,CAAWO;AATd;AADY,SAAtB,EAYGkB,IAZH,CAYQ,UAACC,QAAD,EAAc;AACpB,cAAIA,QAAQ,CAACC,IAAT,KAAkB,eAAtB,EAAuC;AACrC,kBAAKpC,QAAL,CAAc;AACZI,cAAAA,iBAAiB,EAAE;AADP,aAAd;AAGD,WAJD,MAIO;AACL,kBAAKJ,QAAL,CAAc;AACZqC,cAAAA,qBAAqB,EAAE;AADX,aAAd;AAGD;AACF,SAtBD,EAsBGC,KAtBH,CAsBS,UAACC,KAAD,EAAW;AAClB,gBAAKvC,QAAL,CAAc;AACZqC,YAAAA,qBAAqB,EAAE;AADX,WAAd;AAGD,SA1BD;AA2BD;AACF,KAzHkB;;AAEjB,UAAK5B,KAAL,GAAa;AACX+B,MAAAA,SAAS,EAAE,EADA;AAEXC,MAAAA,QAAQ,EAAE,EAFC;AAGXC,MAAAA,KAAK,EAAE,EAHI;AAIXC,MAAAA,QAAQ,EAAE,EAJC;AAKXC,MAAAA,eAAe,EAAE,EALN;AAMXxC,MAAAA,iBAAiB,EAAE;AANR,KAAb;AAFiB;AAUlB;;;;wCAEmB,CAEnB;;;oCA6Ge;AACd,aACE;AAAK,QAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AACE,QAAA,IAAI,EAAE,KAAKK,KAAL,CAAWL,iBADnB;AAEE,QAAA,OAAO,EAAE,KAAKD,wBAFhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAIE,oBAAC,WAAD;AAAa,QAAA,EAAE,EAAC,oBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,SADH,CAJF,EAOE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,iBAAD;AAAmB,QAAA,EAAE,EAAC,0BAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0DADF,CAPF,EAYE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AAAQ,QAAA,OAAO,EAAE,KAAKA,wBAAtB;AAAgD,QAAA,KAAK,EAAC,SAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,CAZF,CADF,CADF;AAsBD;;;6BAEQ;AAAA,UACC0C,OADD,GACa,KAAKnD,KADlB,CACCmD,OADD;AAGP,aACE;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,EAGE,oBAAC,gBAAD;AAAkB,QAAA,KAAK,EAAE5F,KAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAK6F,aAAL,EADH,EAEE;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,KAAD;AAAO,QAAA,SAAS,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,UAAD;AAAY,QAAA,OAAO,EAAC,IAApB;AAAyB,QAAA,KAAK,EAAC,SAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,CADF,EAME;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,SAAD;AACE,QAAA,QAAQ,MADV;AAEE,QAAA,KAAK,EAAC,YAFR;AAGE,QAAA,SAAS,EAAED,OAAO,CAAC1E,SAHrB;AAIE,QAAA,KAAK,EAAE,KAAKsC,KAAL,CAAW+B,SAJpB;AAKE,QAAA,QAAQ,EAAE,KAAK3C,YAAL,CAAkB,WAAlB,CALZ;AAME,QAAA,MAAM,EAAC,QANT;AAOE,QAAA,OAAO,EAAC,UAPV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAWE,oBAAC,SAAD;AACE,QAAA,QAAQ,MADV;AAEE,QAAA,KAAK,EAAC,WAFR;AAGE,QAAA,SAAS,EAAEgD,OAAO,CAAC1E,SAHrB;AAIE,QAAA,KAAK,EAAE,KAAKsC,KAAL,CAAWgC,QAJpB;AAKE,QAAA,QAAQ,EAAE,KAAK5C,YAAL,CAAkB,UAAlB,CALZ;AAME,QAAA,MAAM,EAAC,QANT;AAOE,QAAA,OAAO,EAAC,UAPV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAXF,EAqBE,oBAAC,SAAD;AACE,QAAA,QAAQ,MADV;AAEE,QAAA,KAAK,EAAC,eAFR;AAGE,QAAA,SAAS,EAAEgD,OAAO,CAAC1E,SAHrB;AAIE,QAAA,KAAK,EAAE,KAAKsC,KAAL,CAAWiC,KAJpB;AAKE,QAAA,QAAQ,EAAE,KAAK7C,YAAL,CAAkB,OAAlB,CALZ;AAME,QAAA,MAAM,EAAC,QANT;AAOE,QAAA,OAAO,EAAC,UAPV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QArBF,EA+BE,oBAAC,SAAD;AACE,QAAA,QAAQ,MADV;AAEE,QAAA,KAAK,EAAC,UAFR;AAGE,QAAA,SAAS,EAAEgD,OAAO,CAAC1E,SAHrB;AAIE,QAAA,KAAK,EAAE,KAAKsC,KAAL,CAAWkC,QAJpB;AAKE,QAAA,QAAQ,EAAE,KAAK9C,YAAL,CAAkB,UAAlB,CALZ;AAME,QAAA,MAAM,EAAC,QANT;AAOE,QAAA,OAAO,EAAC,UAPV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA/BF,EAyCE,oBAAC,SAAD;AACE,QAAA,QAAQ,MADV;AAEE,QAAA,KAAK,EAAC,kBAFR;AAGE,QAAA,SAAS,EAAEgD,OAAO,CAAC1E,SAHrB;AAIE,QAAA,KAAK,EAAE,KAAKsC,KAAL,CAAWmC,eAJpB;AAKE,QAAA,QAAQ,EAAE,KAAK/C,YAAL,CAAkB,iBAAlB,CALZ;AAME,QAAA,MAAM,EAAC,QANT;AAOE,QAAA,OAAO,EAAC,UAPV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAzCF,CADF,CANF,EA4DE;AAAK,QAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AAAQ,QAAA,OAAO,EAAC,WAAhB;AAA4B,QAAA,KAAK,EAAC,SAAlC;AAA4C,QAAA,OAAO,EAAE,KAAKQ,WAA1D;AAAuE,QAAA,IAAI,EAAC,OAA5E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,CA5DF,CADF,CAFF,CAHF,CADF;AA6ED;;;;EArOuBzE,S;;AAyO1B,eAAeE,UAAU,CAACgC,MAAD,CAAV,CAAmBjC,UAAU,CAAC4D,WAAD,CAA7B,CAAf","sourcesContent":["import React, { Component } from 'react'\nimport { withRouter } from 'react-router-dom'\n\n// Material-UI\nimport { withStyles } from '@material-ui/core/styles'\nimport { MuiThemeProvider } from '@material-ui/core/styles'\nimport Grid from '@material-ui/core/Grid'\nimport Paper from '@material-ui/core/Paper'\nimport Typography from '@material-ui/core/Typography'\nimport TextField from '@material-ui/core/TextField'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport FormControl from '@material-ui/core/FormControl'\nimport Select from '@material-ui/core/Select'\nimport Input from '@material-ui/core/Input'\nimport Button from '@material-ui/core/Button'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogContentText from '@material-ui/core/DialogContentText'\nimport DialogTitle from '@material-ui/core/DialogTitle'\n\n// Local\nimport Theme from '../Assets/Theme'\nimport Header from './Components/Header'\nimport HomeButton from './Components/HomeButton'\nimport './Form.css'\n\nconst axios = require('axios')\nconst url = 'http://whatsroaring-api.herokuapp.com/'\n//const url ='http://127.0.0.1:8000/'\n\nconst ITEM_HEIGHT = 48\nconst ITEM_PADDING_TOP = 8\nconst MenuProps = {\n  PaperProps: {\n    style: {\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n      width: 250,\n    },\n  },\n}\n\nconst styles = theme => ({\n  container: {\n    display: 'flex',\n    flexWrap: 'wrap',\n  },\n  textField: {\n    marginLeft: theme.spacing.unit,\n    marginRight: theme.spacing.unit,\n  },\n  dateTimePicker: {\n    marginLeft: theme.spacing.unit,\n    marginRight: theme.spacing.unit,\n  },\n  select: {\n    marginLeft: theme.spacing.unit,\n    marginRight: theme.spacing.unit,\n  },\n  dense: {\n    marginTop: 19,\n  },\n})\n\n// https://stackoverflow.com/questions/3809401/what-is-a-good-regular-expression-to-match-a-url\nfunction isValidURL(str) {\n  var expression = /https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%_\\+.~#?&//=]{2,256}\\.[a-z]{2,4}\\b(\\/[-a-zA-Z0-9@:%_\\+.~#?&//=]*)?/gi\n  var regex = new RegExp(expression)\n  return regex.test(str)\n}\n\n// Check if start date/time and end date/time are valid\nfunction checkDates(startDate, endDate) {\n  var today = new Date()\n  var errMsgs = []\n  if (startDate < today) {\n    errMsgs.push('Start date/time should be after the current time.')\n  }\n  if (endDate <= startDate) {\n    errMsgs.push('End date/time should be after the start date/time.')\n  }\n  return errMsgs\n}\n\nclass CreateEvent extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      firstName: '',\n      lastName: '',\n      email: '',\n      password: '',\n      confirmPassword: '',\n      openSuccessDialog: false,\n    }\n  }\n\n  componentDidMount() {\n\n  }\n\n  goBack = () => {\n    this.props.history.goBack()\n  }\n\n  handleChange = name => event => {\n    this.setState({\n      [name]: event.target.value,\n    })\n  }\n\n  handleCloseSuccessDialog = () => {\n    this.setState({ openSuccessDialog: false })\n    this.props.history.push('/')\n  }\n\n  submitEvent = () => {\n    var url_event = url + 'createEvent'\n    console.log('Name: ' + this.state.name)\n    console.log('Org: ' + this.state.org)\n    console.log('Category: ' + this.state.category)\n    console.log('Start time: ' + this.state.startTime)\n    console.log('End time: ' + this.state.endTime)\n    console.log('Website: ' + this.state.website)\n    console.log('Description: ' + this.state.description)\n    console.log('Is free: ' + this.state.isFree)\n\n    // Check fields\n    var errors = []\n    if (!this.state.name.replace(/\\s/g, '').length) {\n      errors.push('event name')\n    }\n    if (!this.state.description.replace(/\\s/g, '').length) {\n      errors.push('description')\n    }\n    if (!this.state.location.replace(/\\s/g, '').length) {\n      errors.push('location')\n    }\n    if (!this.state.startTime.replace(/\\s/g, '').length) {\n      errors.push('start time')\n    }\n    if (!this.state.endTime.replace(/\\s/g, '').length) {\n      errors.push('end time')\n    }\n    if (!this.state.org.replace(/\\s/g, '').length) {\n      errors.push('organization')\n    }\n    if (this.state.category.length == 0) {\n      errors.push('category')\n    }\n    if (this.state.isFree === '') {\n      errors.push('is free')\n    }\n\n    var timeErrs = checkDates(\n      new Date(this.state.startTime), \n      new Date(this.state.endTime))\n\n    if (errors.length > 0) {\n      // Missing fields\n      this.setState({\n        missingFields: errors,\n        openErrorDialog: true\n      })\n    } else if (this.state.website !== '' \n               && !isValidURL(this.state.website)) {\n      // Invalid website URL\n      this.setState({\n        openInvalidWebsiteDialog: true\n      })\n    } else if (timeErrs.length > 0) {\n      // Invalid times\n      this.setState({\n        timeErrors: timeErrs,\n        openInvalidTimesDialog: true\n      })\n    } else {\n      console.log('Start time: ' + this.state.startTime.toLocaleString())\n      axios.post(url_event, {\n        params: {\n          name: this.state.name,\n          org: this.state.org,\n          cat: this.state.category,\n          start_datetime: this.state.startTime,\n          end_datetime: this.state.endTime,\n          location: this.state.location,\n          website: this.state.website,\n          description: this.state.description,\n          is_free: this.state.isFree\n        }\n      }).then((response) => {\n        if (response.data === 'Created event') {\n          this.setState({\n            openSuccessDialog: true\n          })\n        } else {\n          this.setState({\n            openServerErrorDialog: true\n          })\n        }\n      }).catch((error) => {\n        this.setState({\n          openServerErrorDialog: true\n        })\n      })\n    }\n  }\n\n  renderDialogs() {\n    return (\n      <div className='dialogs'>\n        <Dialog\n          open={this.state.openSuccessDialog}\n          onClose={this.handleCloseSuccessDialog}\n        >\n          <DialogTitle id=\"alert-dialog-title\">\n            {'Success'}\n          </DialogTitle>\n          <DialogContent>\n            <DialogContentText id=\"alert-dialog-description\">\n              You have successfully registered your account.\n            </DialogContentText>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={this.handleCloseSuccessDialog} color=\"primary\">\n              OK\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </div>\n    )\n  }\n\n  render() {\n    const { classes } = this.props\n\n    return (\n      <div className='page'>\n        <Header />\n        <HomeButton />\n        <MuiThemeProvider theme={Theme}>\n          {this.renderDialogs()}\n          <div className='main'>\n            <Paper className='paper'>\n              <div className='title'>\n                <Typography variant=\"h3\" color=\"primary\">\n                  Register\n                </Typography>\n              </div>\n              <div className='form'>\n                <FormControl>\n                  <TextField\n                    required\n                    label='First Name'\n                    className={classes.textField}\n                    value={this.state.firstName}\n                    onChange={this.handleChange('firstName')}\n                    margin='normal'\n                    variant='outlined'\n                  />\n\n                  <TextField\n                    required\n                    label='Last Name'\n                    className={classes.textField}\n                    value={this.state.lastName}\n                    onChange={this.handleChange('lastName')}\n                    margin='normal'\n                    variant='outlined'\n                  />\n\n                  <TextField\n                    required\n                    label='Email Address'\n                    className={classes.textField}\n                    value={this.state.email}\n                    onChange={this.handleChange('email')}\n                    margin='normal'\n                    variant='outlined'\n                  />\n\n                  <TextField\n                    required\n                    label='Password'\n                    className={classes.textField}\n                    value={this.state.password}\n                    onChange={this.handleChange('password')}\n                    margin='normal'\n                    variant='outlined'\n                  />\n\n                  <TextField\n                    required\n                    label='Confirm Password'\n                    className={classes.textField}\n                    value={this.state.confirmPassword}\n                    onChange={this.handleChange('confirmPassword')}\n                    margin='normal'\n                    variant='outlined'\n                  />\n                </FormControl>\n              </div>\n              \n              <div className='button'>\n                <Button variant=\"contained\" color=\"primary\" onClick={this.submitEvent} size=\"large\">\n                  Register\n                </Button>\n              </div>\n            </Paper>\n          </div>\n        </MuiThemeProvider>\n      </div>\n    )\n  }\n}\n\n\nexport default withStyles(styles)(withRouter(CreateEvent))\n"]},"metadata":{},"sourceType":"module"}