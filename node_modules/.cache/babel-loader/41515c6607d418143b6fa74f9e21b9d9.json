{"ast":null,"code":"import _classCallCheck from \"/Users/clairedu/Desktop/College/cos333/calendar_project/whatsroaring/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/clairedu/Desktop/College/cos333/calendar_project/whatsroaring/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/clairedu/Desktop/College/cos333/calendar_project/whatsroaring/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/clairedu/Desktop/College/cos333/calendar_project/whatsroaring/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/clairedu/Desktop/College/cos333/calendar_project/whatsroaring/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/clairedu/Desktop/College/cos333/calendar_project/whatsroaring/src/Pages/Components/FilterForm.js\";\nimport axios from 'axios';\nimport Cookies from 'universal-cookie';\nimport React, { Component } from 'react';\n\nvar ContactForm =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ContactForm, _Component);\n\n  function ContactForm(props) {\n    var _this;\n\n    _classCallCheck(this, ContactForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ContactForm).call(this, props));\n\n    _this.handleLocationChange = function (event) {\n      _this.setState({\n        location: event.target.value\n      });\n    };\n\n    _this.handleSubmit = function () {\n      // Gathering together the data you want to send to API\n      var payload = {\n        location: _this.state.location\n      }; // Method we're using to send data to API\n\n      _this.handleAjaxRequest(payload);\n    };\n\n    _this.handleAjaxRequest = function (payload) {\n      // [1] This is a POST request, so we need a CSRF token (unless otherwise\n      // omitted through Django, but omitted in this explanation)\n      var csrftoken = Cookies.get('csrftoken'); // Use your AJAX/HTTP library of choice. I'm using Axios[2] here. It's fine; does the job.\n\n      var request = axios({\n        method: 'post',\n        url: 'http://127.0.0.1:8001/GetEvents',\n        data: payload,\n        headers: {\n          'X-CSRFToken': csrftoken\n        }\n      }); // Do stuff with the response from your backend. Don't forget to handle errors/exceptions.\n\n      request.then(function (response) {\n        console.debug(response.data);\n      }).catch(function (error) {\n        console.error(error);\n      });\n    };\n\n    _this.state = {\n      location: ''\n    };\n    return _this;\n  } // onChange handler saves subject to state\n\n\n  _createClass(ContactForm, [{\n    key: \"render\",\n    value: function render() {\n      return (// Basic form\n        React.createElement(\"form\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          value: this.state.location,\n          onChange: this.handleLocationChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        }), React.createElement(\"button\", {\n          onClick: this.handleSubmit,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56\n          },\n          __self: this\n        }, \"Send\"))\n      );\n    }\n  }]);\n\n  return ContactForm;\n}(Component);","map":{"version":3,"sources":["/Users/clairedu/Desktop/College/cos333/calendar_project/whatsroaring/src/Pages/Components/FilterForm.js"],"names":["axios","Cookies","React","Component","ContactForm","props","handleLocationChange","event","setState","location","target","value","handleSubmit","payload","state","handleAjaxRequest","csrftoken","get","request","method","url","data","headers","then","response","console","debug","catch","error"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,kBAApB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;;IAEMC,W;;;;;AACF,uBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,qFAAMA,KAAN;;AADe,UASnBC,oBATmB,GASI,UAACC,KAAD,EAAW;AAAC,YAAKC,QAAL,CAAc;AAACC,QAAAA,QAAQ,EAAEF,KAAK,CAACG,MAAN,CAAaC;AAAxB,OAAd;AAA8C,KAT9D;;AAAA,UAYnBC,YAZmB,GAYJ,YAAM;AACjB;AACA,UAAMC,OAAO,GAAG;AACZJ,QAAAA,QAAQ,EAAE,MAAKK,KAAL,CAAWL;AADT,OAAhB,CAFiB,CAMjB;;AACA,YAAKM,iBAAL,CAAuBF,OAAvB;AACH,KApBkB;;AAAA,UAuBnBE,iBAvBmB,GAuBC,UAACF,OAAD,EAAa;AAC7B;AACA;AACA,UAAMG,SAAS,GAAGf,OAAO,CAACgB,GAAR,CAAY,WAAZ,CAAlB,CAH6B,CAK7B;;AACA,UAAIC,OAAO,GAAGlB,KAAK,CAAC;AAChBmB,QAAAA,MAAM,EAAE,MADQ;AAEhBC,QAAAA,GAAG,EAAE,iCAFW;AAGhBC,QAAAA,IAAI,EAAER,OAHU;AAIhBS,QAAAA,OAAO,EAAE;AAAC,yBAAeN;AAAhB;AAJO,OAAD,CAAnB,CAN6B,CAa7B;;AACAE,MAAAA,OAAO,CAACK,IAAR,CAAa,UAAAC,QAAQ,EAAI;AACrBC,QAAAA,OAAO,CAACC,KAAR,CAAcF,QAAQ,CAACH,IAAvB;AACH,OAFD,EAGCM,KAHD,CAGO,UAAAC,KAAK,EAAI;AACZH,QAAAA,OAAO,CAACG,KAAR,CAAcA,KAAd;AACH,OALD;AAMH,KA3CkB;;AAGf,UAAKd,KAAL,GAAa;AACTL,MAAAA,QAAQ,EAAC;AADA,KAAb;AAHe;AAMlB,G,CAED;;;;;6BAqCS;AACL,aACI;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAO,UAAA,KAAK,EAAE,KAAKK,KAAL,CAAWL,QAAzB;AAAmC,UAAA,QAAQ,EAAE,KAAKH,oBAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,EAEI;AAAQ,UAAA,OAAO,EAAE,KAAKM,YAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAFJ;AAOH;;;;EAtDqBT,S","sourcesContent":["import axios from 'axios';\nimport Cookies from 'universal-cookie';\nimport React, { Component } from 'react';\n\nclass ContactForm extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            location:'',\n        }\n    }\n\n    // onChange handler saves subject to state\n    handleLocationChange = (event) => {this.setState({location: event.target.value})};\n\n    // Handler for the button/submit event\n    handleSubmit = () => {\n        // Gathering together the data you want to send to API\n        const payload = {\n            location: this.state.location,\n        };\n\n        // Method we're using to send data to API\n        this.handleAjaxRequest(payload);\n    };\n\n    // Method to send ContactForm's data to backend\n    handleAjaxRequest = (payload) => {\n        // [1] This is a POST request, so we need a CSRF token (unless otherwise\n        // omitted through Django, but omitted in this explanation)\n        const csrftoken = Cookies.get('csrftoken');\n\n        // Use your AJAX/HTTP library of choice. I'm using Axios[2] here. It's fine; does the job.\n        let request = axios({\n            method: 'post',\n            url: 'http://127.0.0.1:8001/GetEvents',\n            data: payload,\n            headers: {'X-CSRFToken': csrftoken}\n        });\n\n        // Do stuff with the response from your backend. Don't forget to handle errors/exceptions.\n        request.then(response => {\n            console.debug(response.data);\n        })\n        .catch(error => {\n            console.error(error);\n        })\n    };\n\n    render() {\n        return (\n            // Basic form\n            <form>\n                <input value={this.state.location} onChange={this.handleLocationChange} />\n                <button onClick={this.handleSubmit}>Send</button>\n            </form>\n        );\n    }\n}\n"]},"metadata":{},"sourceType":"module"}