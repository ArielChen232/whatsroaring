{"ast":null,"code":"import _classCallCheck from \"/Users/leitan/Developer/whatsroaring/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/leitan/Developer/whatsroaring/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/leitan/Developer/whatsroaring/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/leitan/Developer/whatsroaring/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/leitan/Developer/whatsroaring/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/leitan/Developer/whatsroaring/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/leitan/Developer/whatsroaring/src/Pages/Calendar.js\";\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\nimport moment from 'moment';\nimport BigCalendar from 'react-big-calendar'; // Styling\n\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\nimport './Calendar.css';\nvar localizer = BigCalendar.momentLocalizer(moment); //const url = 'https://whatsroaring-api.herokuapp.com/'\n\nvar url = 'http://127.0.0.1:8001/';\nvar orange = '#fb8c00';\n\nvar Calendar =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Calendar, _Component);\n\n  function Calendar() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Calendar);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Calendar)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.seeDetails = function (event) {\n      console.log('Org: ' + event.org);\n\n      _this.props.changeToDetails(event);\n\n      _this.props.history.push('/details');\n    };\n\n    _this.state = {\n      events: []\n    };\n    _this._isMounted = false;\n    _this.getOrgName = _this.getOrgName.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.eventStyleGetter = _this.eventStyleGetter.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Calendar, [{\n    key: \"getOrgName\",\n    value: function getOrgName(orgPk) {\n      var url_orgName = url + 'getOrgName/' + orgPk;\n      axios.get(url_orgName).then(function (res) {\n        var posts = JSON.parse(res.data.data);\n\n        if (posts.length >= 1) {\n          return posts[0].fields.name;\n        }\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.orgName(1);\n      var url_getEvents = url + 'getEvents';\n      axios.get(url_getEvents).then(function (res) {\n        var posts = JSON.parse(res.data.Events_JSON);\n        var events = [];\n        posts.forEach(function (post) {\n          events.push({\n            title: post.fields.name,\n            start: new Date(post.fields.start_datetime),\n            end: new Date(post.fields.end_datetime),\n            desc: post.fields.description,\n            loc: post.fields.location,\n            website: post.fields.website,\n            //org: this.getOrgName(post.fields.org),\n            org: 'whatever',\n            is_free: post.fields.is_free\n          });\n        });\n\n        _this2.setState({\n          events: events\n        });\n\n        _this2._isMounted = true;\n      });\n    }\n  }, {\n    key: \"eventStyleGetter\",\n    value: function eventStyleGetter(event) {\n      var color = orange;\n      /* Can add logic here to color code */\n\n      var style = {\n        backgroundColor: color,\n        opacity: 0.8,\n        color: 'black',\n        border: '0px'\n      };\n      return {\n        style: style\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"Calendar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(BigCalendar, {\n        localizer: localizer,\n        events: this.state.events,\n        defaultView: BigCalendar.Views.MONTH,\n        onSelectEvent: this.seeDetails,\n        views: ['month', 'week', 'day'],\n        eventPropGetter: this.eventStyleGetter,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Calendar;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    /*title: state.eventReducer.title,\n    start: state.eventReducer.start,\n    end: state.eventReducer.end,\n    desc: state.eventReducer.desc,\n    location: state.eventReducer.location,\n    website: state.eventReducer.website,\n    org: state.eventReducer.org,\n    is_free: state.eventReducer.is_free*/\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    changeToDetails: function changeToDetails(event) {\n      return dispatch({\n        type: 'changeToDetails',\n        payload: {\n          title: event.title,\n          start: event.start,\n          end: event.end,\n          desc: event.desc,\n          loc: event.loc,\n          website: event.website,\n          org: event.org,\n          is_free: event.is_free\n        }\n      });\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Calendar));","map":{"version":3,"sources":["/Users/leitan/Developer/whatsroaring/src/Pages/Calendar.js"],"names":["React","Component","withRouter","connect","axios","moment","BigCalendar","localizer","momentLocalizer","url","orange","Calendar","args","seeDetails","event","console","log","org","props","changeToDetails","history","push","state","events","_isMounted","getOrgName","bind","eventStyleGetter","orgPk","url_orgName","get","then","res","posts","JSON","parse","data","length","fields","name","orgName","url_getEvents","Events_JSON","forEach","post","title","start","Date","start_datetime","end","end_datetime","desc","description","loc","location","website","is_free","setState","color","style","backgroundColor","opacity","border","Views","MONTH","mapStateToProps","mapDispatchToProps","dispatch","type","payload"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport axios from 'axios'\nimport moment from 'moment'\nimport BigCalendar from 'react-big-calendar'\n\n// Styling\nimport 'react-big-calendar/lib/css/react-big-calendar.css'\nimport './Calendar.css'\n\n\nconst localizer = BigCalendar.momentLocalizer(moment)\n//const url = 'https://whatsroaring-api.herokuapp.com/'\nconst url = 'http://127.0.0.1:8001/'\nconst orange = '#fb8c00'\n\n\nclass Calendar extends Component {\n  constructor(...args) {\n    super(...args)\n    this.state = { events: [] }\n    this._isMounted = false\n    this.getOrgName = this.getOrgName.bind(this)\n    this.eventStyleGetter = this.eventStyleGetter.bind(this)\n  }\n\n  getOrgName(orgPk) {\n    const url_orgName = url + 'getOrgName/' + orgPk\n    axios.get(url_orgName).then(res => {\n      const posts = JSON.parse(res.data.data)\n      if (posts.length >= 1) {\n        return posts[0].fields.name\n      }\n    })\n  }\n\n  componentDidMount() {\n    this.orgName(1)\n    const url_getEvents = url + 'getEvents'\n    axios.get(url_getEvents).then(res => {\n      const posts = JSON.parse(res.data.Events_JSON)\n      const events = [];\n      posts.forEach(function(post){\n        events.push({\n          title: post.fields.name, \n          start: new Date(post.fields.start_datetime), \n          end: new Date(post.fields.end_datetime),\n          desc: post.fields.description,\n          loc: post.fields.location,\n          website: post.fields.website,\n          //org: this.getOrgName(post.fields.org),\n          org: 'whatever',\n          is_free: post.fields.is_free\n        })\n      })\n      this.setState({events})\n      this._isMounted = true\n    })\n  }\n\n  seeDetails = (event) => {\n    console.log('Org: ' + event.org)\n    this.props.changeToDetails(event);\n    this.props.history.push('/details')\n  }\n\n  eventStyleGetter(event) {\n    var color = orange\n    /* Can add logic here to color code */\n    var style = {\n      backgroundColor: color,\n      opacity: 0.8,\n      color: 'black',\n      border: '0px'\n    }\n    return {\n      style: style\n    }\n  }\n\n  render() {\n    return (\n      <div className='Calendar'>\n        <BigCalendar\n          localizer={localizer}\n          events={this.state.events}\n          defaultView={BigCalendar.Views.MONTH}\n          onSelectEvent={this.seeDetails}\n          views={['month', 'week', 'day']}\n          eventPropGetter={(this.eventStyleGetter)}\n        />\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    /*title: state.eventReducer.title,\n    start: state.eventReducer.start,\n    end: state.eventReducer.end,\n    desc: state.eventReducer.desc,\n    location: state.eventReducer.location,\n    website: state.eventReducer.website,\n    org: state.eventReducer.org,\n    is_free: state.eventReducer.is_free*/\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    changeToDetails: (event) => dispatch({\n      type: 'changeToDetails', \n      payload: {\n        title: event.title, \n        start: event.start,\n        end: event.end,\n        desc: event.desc,\n        loc: event.loc,\n        website: event.website,\n        org: event.org,\n        is_free: event.is_free\n      }\n    })\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Calendar))\n"]},"metadata":{},"sourceType":"module"}